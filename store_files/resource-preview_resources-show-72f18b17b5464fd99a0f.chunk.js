(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{1137:function(e,t,r){},1215:function(e,t,r){"use strict";r.r(t);r(394),r(1137);var n=r(7),o=r(14),i=r(3),a=r(82),c=r(6),s=r(9);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(h,e);var t,r,n,o=f(h);function h(){return u(this,h),o.apply(this,arguments)}return t=h,(r=[{key:"connect",value:function(){this.upgrade2x(),this.previewOuterWrapTarget.addEventListener("contextmenu",this.preventRightClick),this.flagLoaded()}},{key:"disconnect",value:function(){this.previewOuterWrapTarget.removeEventListener("contextmenu",this.preventRightClick)}},{key:"preventRightClick",value:function(e){e.preventDefault()}},{key:"upgrade2x",value:function(){if(1===window.devicePixelRatio){var e=parseInt(this.previewOuterWrapTarget.dataset.originalWidth,10),t=parseInt(this.previewOuterWrapTarget.dataset.originalHeight,10);if(this.previewImageTarget.width>Math.floor(e/2)||this.previewImageTarget.height>Math.floor(t/2)){var r=this.previewImageTarget.getAttribute("srcset"),n=r.indexOf(" "),o=r.substring(0,n);this.previewImageTarget.setAttribute("srcset","".concat(o," 1x"))}}}},{key:"sendEditorButtonEvent",value:function(e){e.stopPropagation(),Object(c.k)({element:e.currentTarget,data:{action:s.R,label:Object(a.a)(),content_type:"Content-".concat(Object(i.h)())}})}},{key:"previewContentType",get:function(){return this.previewOuterWrapTarget.getAttribute("data-resource-show-preview-content-type")}}])&&l(t.prototype,r),n&&l(t,n),h}(o.a);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}d.targets=["previewImage","previewWrap","previewInnerWrap","previewOuterWrap"];var T=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,r,n,o=y(u);function u(){var e;return w(this,u),(e=o.apply(this,arguments)).initZoom=function(){e.zoomOut(),Object(i.y)()?e.canTouchZoom=!0:(e.teardownTouch(),e.canTouchZoom=!1)},e.toggleZoom=function(t){t.stopPropagation(),e.canZoom&&(e.updateZoomIcon(),e.zoomed?(e.zoomOut(),e.removeZoomListeners(e.previewOuterWrapTarget),e.addZoomListeners(e.element),e.canTouchZoom&&e.teardownTouch()):(e.zoomIn(t),e.removeZoomListeners(e.element),e.addZoomListeners(e.previewOuterWrapTarget),e.canTouchZoom&&e.setupForTouch()))},e.zoomIn=function(t){e.zoomedOnce||e.switchToZoomImg(),e.previewOuterWrapTarget.classList.add("is-zooming"),setTimeout((function(){e.previewOuterWrapTarget.classList.add("is-zoomed"),e.previewOuterWrapTarget.classList.remove("is-zooming")}),300),e.getPointerPos(t),e.updateZoomPosition(),e.hidePreviewPlaceholder(),e.zoomed=!0,e.previewInnerWrapTarget.addEventListener("mousemove",e.zoomMove),Object(c.k)({element:t.currentTarget,data:{action:s.Ec,label:Object(a.a)(),content_type:"Content-".concat(Object(i.h)())}})},e.zoomMove=function(t){e.touchActive||(e.getPointerPos(t),e.updateZoomPosition())},e.setupForTouch=function(){e.offsetX*=e.zoomScale,e.offsetY*=e.zoomScale,e.touchActive=!0,e.previewInnerWrapTarget.addEventListener("touchstart",e.touchStart),e.previewInnerWrapTarget.addEventListener("touchmove",e.touchMove)},e.teardownTouch=function(){e.previewInnerWrapTarget.removeEventListener("touchstart",e.touchStart,!1),e.previewInnerWrapTarget.removeEventListener("touchmove",e.touchMove,!1),e.touchActive=!1},e.touchStart=function(t){e.prevX=t.touches[0].clientX,e.prevY=t.touches[0].clientY},e.touchMove=function(t){t.preventDefault(),e.offsetX-=e.prevX-t.touches[0].clientX,e.offsetY-=e.prevY-t.touches[0].clientY,e.prevX=t.touches[0].clientX,e.prevY=t.touches[0].clientY,e.setTranslate({xPos:e.offsetX,yPos:e.offsetY,el:e.element,touch:!0})},e.setTranslate=function(t){var r=t.xPos,n=t.yPos,o=t.el,i=t.touch,a=void 0!==i&&i?e.zoomScale:1;o.style.transform="scale(".concat(e.zoomScale,") translate3d(").concat(r/a,"px, ").concat(n/a,"px, 0px)")},e}return t=u,(r=[{key:"connect",value:function(){this.previewOuterWrapTarget=this.element.closest('[data-resource-show-preview-target="previewOuterWrap"]'),this.previewInnerWrapTarget=this.element.closest('[data-resource-show-preview-target="previewInnerWrap"]'),this.canZoom&&(this.addZoom(),this.initZoom())}},{key:"disconnect",value:function(){this.canZoom&&(this.removeZoomListeners(this.previewOuterWrapTarget),this.removeZoomListeners(this.element))}},{key:"addZoom",value:function(){this.zoomScale=parseInt(this.previewOuterWrapTarget.getAttribute("data-zoom-scale"),10),this.previewOuterWrapTarget.classList.add("is-zoomable"),this.addZoomListeners(this.element)}},{key:"addZoomListeners",value:function(e){e.addEventListener("click",this.toggleZoom),window.addEventListener("resize",this.initZoom)}},{key:"removeZoomListeners",value:function(e){e.removeEventListener("click",this.toggleZoom),window.removeEventListener("resize",this.initZoom)}},{key:"updateZoomIcon",value:function(){this.previewOuterWrapTarget.querySelectorAll(".resource-action-button--zoom-icon svg").forEach((function(e){e.classList.toggle("is-active")}))}},{key:"switchToZoomImg",value:function(){this.element.setAttribute("src",this.element.getAttribute("data-zoom-src")),this.element.removeAttribute("srcset"),this.element.removeAttribute("sizes"),this.zoomedOnce=!0}},{key:"hidePreviewPlaceholder",value:function(){var e=document.querySelector(".ez-resource-show__preview__image--placeholder");null==e||e.remove()}},{key:"zoomOut",value:function(){this.previewOuterWrapTarget.classList.contains("is-zoomed")&&(this.element.style.transform="",this.previewOuterWrapTarget.classList.remove("is-zoomed"),this.zoomed=!1,this.previewInnerWrapTarget.removeEventListener("mousemove",this.zoomMove))}},{key:"updateZoomPosition",value:function(){var e=this.element.width/2,t=this.element.height/2;this.offsetX=e-this.pointerPositionX,this.offsetY=t-this.pointerPositionY,this.setTranslate({xPos:this.offsetX,yPos:this.offsetY,el:this.element})}},{key:"getPointerPos",value:function(e){this.pointerPositionX=e.clientX||this.pointerPositionX,this.pointerPositionY=e.clientY||this.pointerPositionY;var t=this.previewInnerWrapTarget.getBoundingClientRect();this.pointerPositionX-=t.left,this.pointerPositionY-=t.top}},{key:"canZoom",get:function(){return this.previewOuterWrapTarget.hasAttribute("data-zoomable")}}])&&g(t.prototype,r),n&&g(t,n),u}(o.a);function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=z(e);if(t){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,r,n,o=j(a);function a(){var e;return P(this,a),(e=o.apply(this,arguments)).resizePreview=function(){new Promise((function(t){return e.setPreviewMaxHeight(t)})).then((function(){return e.setPreviewWidth()}))},e}return t=a,(r=[{key:"connect",value:function(){this.previewInnerWrapTarget=this.element.closest('[data-resource-show-preview-target="previewInnerWrap"]'),this.previewOuterWrapTarget=this.element.closest('[data-resource-show-preview-target="previewOuterWrap"]'),this.maxPreviewHeight=560,window.addEventListener("PreviewImageChanged",this.resizePreview),window.addEventListener("resize",this.resizePreview),this.resizePreview()}},{key:"disconnect",value:function(){window.removeEventListener("resize",this.resizePreview)}},{key:"setPreviewWidth",value:function(){if(this.previewInnerWrapTarget&&this.previewOuterWrapTarget){if(this.previewInnerWrapTarget.style.width="100%",Object(i.n)()<=600)return;var e=window.getComputedStyle(this.previewOuterWrapTarget),t=parseInt(e.paddingTop,10),r=parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10);this.previewWidth=parseInt(this.previewOuterWrapTarget.dataset.originalWidth,10),this.previewHeight=parseInt(this.previewOuterWrapTarget.dataset.originalHeight,10);var n=this.previewOuterWrapTarget.clientWidth-r,o=(this.previewOuterWrapTarget.clientHeight-t)*this.previewWidth/this.previewHeight/n*100;this.previewInnerWrapTarget.style.width="".concat(o,"%")}}},{key:"setPreviewMaxHeight",value:function(e){if(Object(i.n)()>1101&&this.previewOuterWrapTarget){var t=window.getComputedStyle(this.previewOuterWrapTarget);this.element.height>=this.maxPreviewHeight?this.previewOuterWrapTarget.style.height="".concat(this.maxPreviewHeight,"px"):parseInt(t.maxHeight,10)<this.maxPreviewHeight&&(this.previewOuterWrapTarget.style.height=null)}else this.previewOuterWrapTarget.style.height=null;e()}}])&&W(t.prototype,r),n&&W(t,n),a}(o.a);function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var o=C(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Z(this,r)}}function Z(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,e);var t,r,n,o=x(i);function i(){var e;return R(this,i),(e=o.apply(this,arguments)).verticalBreakpoint=.8,e}return t=i,(r=[{key:"connect",value:function(){this.flagLoaded(),this.setTallVideo()}},{key:"setTallVideo",value:function(){var e=document.querySelector(".ez-resource-show__preview__inner-wrap__wrap").offsetHeight;if(this.element.offsetHeight>e){this.element.style.height="".concat(e,"px"),this.element.style.paddingTop="0";var t=parseFloat(this.element.dataset.originalWidth)/parseFloat(this.element.dataset.originalHeight),r=t*e;this.element.style.width="".concat(r,"px"),t<this.verticalBreakpoint&&this.setVerticalVideoClass()}}},{key:"setVerticalVideoClass",value:function(){var e=this;this.element.querySelector(".videos-plyr").classList.add("vertical-video");var t=0,r=setInterval((function(){e.element.querySelector(".plyr--video")?(e.element.querySelector(".plyr--video").classList.add("simplified-controls"),clearInterval(r)):100===(t+=1)&&clearInterval(r)}),100)}}])&&L(t.prototype,r),n&&L(t,n),i}(o.a);function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=M(e);if(t){var o=M(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var V=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,r,n,o=B(i);function i(){return X(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"trackComplete",value:function(){var e={action:s.pb};this.hasCustomCategoryValue&&(e.category=this.customCategoryValue),Object(c.k)({data:e})}}])&&Y(t.prototype,r),n&&Y(t,n),i}(r(29).a);V.values={customCategory:String};var q=r(209);n.default.register("resource-show-preview",d),n.default.register("resource-show-preview-zoom",T),n.default.register("resource-show-preview-image",I),n.default.register("resource-show-preview-video",S),n.default.register("pricing-modal",V),n.default.register("pricing-plan-block",q.a)}}]);
//# sourceMappingURL=resource-preview~resources-show-72f18b17b5464fd99a0f.chunk.js.map